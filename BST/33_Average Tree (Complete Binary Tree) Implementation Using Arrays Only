/*
Title: Average Tree Construction Using Array (Complete Binary Tree Representation)

Description:
This program constructs an Average Tree (AT) using only arrays. The tree is treated
as a complete binary tree stored in an array (no pointers). Input values are first
stored in array A[]. Then, using a recursive function, parent nodes are generated by
taking the average of each pair of child nodes and stored in the same array forming
AT[]. Finally, the constructed tree (array AT[]) is printed level by level.
*/

#include <iostream>
using namespace std;

void func(int arr[], int n, int &arr_i, int &res_i){
    if(res_i - arr_i == 1) return;

    if(arr[arr_i] == 0){
        arr[++res_i] = 0;
    }

    arr[res_i] = (arr[arr_i] + arr[arr_i + 1]) / 2;
    res_i++;
    arr_i = arr_i + 2;

    func(arr, n, arr_i, res_i);
}

void print(int arr[], int st, int end){
    for(int i = st; i <= end; i++){
        cout << arr[i] << " ";
    }
}

int main(){
    int arr[100];
    int t;
    int n = 0;

    while(cin >> t && t != -1){
        arr[n] = t;
        n++;
    }

    int arr_i = 0, res_i = n;
    func(arr, n, arr_i, res_i);

    int i = 1;
    int st = arr_i, end = arr_i;

    while(st >= 0){
        print(arr, st, end);
        cout << "/ \n";
        end = st - 1;
        i = i * 2;
        st = end - i + 1;

        if(st < 0 && end >= 0) st = 0;
    }

    return 0;
}
